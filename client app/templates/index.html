<!DOCTYPE html>
<html lang="en">
<head>

    <title>Document</title>

    <link rel="stylesheet" type="text/css" href="static/css/main.css">
	<link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</head>
<body>
    <div class="container-contact100" style="background-image: url('static/images/bg-01.jpg');">
		<div class="wrap-contact100">
			<span class="contact100-form-title">
				Message Client
			</span>

			<div class="alert alert-info alert-dismissible">
				<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
				<strong>Instructions:</strong> Get the Message ID from the user's webpage and paste below!
			</div>


			<div class="wrap-input100">
				<div class="form-check form-check-inline">
					<input class="form-check-input" type="radio" name="radioButton" id="sendRadio" checked onclick="EnableDisableTextBox()">
					<label class="form-check-label" for="sendRadio">
					  Send Message
					</label>
				  </div>
				  <div class="form-check form-check-inline">
					<input class="form-check-input" type="radio" name="radioButton" id="retrieveRadio" onclick="EnableDisableTextBox()">
					<label class="form-check-label" for="retrieveRadio">
						Retrieve Message
					</label>
				  </div>
			</div>

			<form class="contact100-form validate-form" action="http://localhost:8080/post" method="POST" id="form">
				
				<div class="wrap-input100">
					<span class="label-input100">Message ID</span>
					<input class="input100" type="text" name="data" placeholder="" id="messageID" required>

				</div>

				<div id="alertBox">
				</div>

				<div class="wrap-input100 validate-input" data-validate = "Message is required">
					<span class="label-input100">Message</span>
					<textarea class="input100" name="data" placeholder="Enter the message to send!!!" id="data" required></textarea>
				</div>

				<div class="container-contact100-form-btn">
					<div class="wrap-contact100-form-btn">
						<div class="contact100-form-bgbtn"></div>
						<button class="contact100-form-btn" id="submitBtn">
							Send Data
						</button>
					</div>
				</div>
			</form>

		</div>
	</div>

	<script src="static/js/main.js"></script>


	<script>

	// var sendRadioButton = document.getElementById("sendRadio");
	// var messageIDField = document.getElementById("messageID");
	// var alertBox = document.getElementById("alertBox");
	// messageIDField.disabled = true;

	// var textAreaBox = document.getElementById("data")
	// var submitBtn = document.getElementById("submitBtn")
	// var form = document.getElementById("form")
	// var messageID = document.getElementById("messageID");

	// textAreaBox.addEventListener("input", function (event) {
	// if (/^[\u0000-\u007f]*$/.test(textAreaBox.value) == false) {
	// 	textAreaBox.setCustomValidity("Only ASCII characters allowed!");
	// } else {
	// 	textAreaBox.setCustomValidity("");
	// }
	// });


	// $(document).ready( function() { // Wait until document is fully parsed
	// 	$("#form").on('submit', function(e){

	// 		e.preventDefault();

	// 		if (sendRadioButton.checked != true){

	// 			$.get("http://localhost:8080/get", {data: messageID.value} , function(data2){
	// 			// Display the returned data in browser
	// 			textAreaBox.value = data2
	// 			messageID.value = ""
	// 			console.log(data2)
	// 			});
				

	// 		} else {

	// 			var userData = document.getElementById("data").value;

	// 			$.post("http://localhost:8080/post", {data: userData} , function(data2){

	// 			alertBox.style.display = 'inline'

	// 			textAreaBox.value = ""
	// 			alertBox.innerHTML = '<div class="alert alert-success alert-dismissible"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Success!</strong> Message Sent!.</div>'
				
	// 			$("#alertBox").delay(1000).slideUp(500, function() {
	// 				$(this).alert('close');
	// 			});
	// 			// Display the returned data in browser
	// 			console.log(data2)
	// 			});

	// 		}

	// 	});
	// })


	// 	function EnableDisableTextBox() {
						
	// 		if (sendRadioButton.checked != true){
	// 			messageIDField.disabled = false;
	// 			textAreaBox.disabled = true;
	// 			textAreaBox.readOnly = true;
	// 			textAreaBox.placeholder = "Your retrieved message will be shown here!!!"
	// 			submitBtn.innerHTML = "Retrieve Data"

	// 			textAreaBox.value = ""
	// 			messageIDField.value = ""

				
	// 		} else {
	// 			messageIDField.disabled = true;
	// 			textAreaBox.disabled = false;
	// 			textAreaBox.readOnly = false;
	// 			textAreaBox.placeholder = "Enter the message to send!!!"
	// 			submitBtn.innerHTML = "Send Data"
	// 			textAreaBox.value = ""
	// 			messageIDField.value = ""

	// 		}

	// 		// messageIDField.disabled = sendRadioButton.checked ? true : false;
	// 		if (!messageIDField.disabled) {
	// 			messageIDField.focus();
	// 		}
    // }


	</script>




    
</body>
</html>